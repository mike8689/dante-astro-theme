---
const { title, description, publishDate, image, slug, category } = Astro.props;
const formattedDate = new Date(publishDate).toLocaleDateString('zh-CN');
---

<article class="bg-[var(--bg-main)] rounded-lg shadow-md overflow-hidden border border-[var(--border-main)]">
    {image && (
        <a href={`/projects/${slug}`} class="block">
            <img 
                src={image.src} 
                alt={image.alt || title}
                class="w-full h-48 object-cover hover:opacity-75 transition-opacity"
            />
        </a>
    )}
    <div class="p-4">
        <div class="flex justify-between items-center mb-2">
            <span class="text-sm text-[var(--text-muted)]">{category}</span>
            <time class="text-sm text-[var(--text-muted)]">{formattedDate}</time>
        </div>
        <h2 class="text-xl font-semibold mb-2">
            <a href={`/projects/${slug}`} class="text-[var(--text-main)] hover:text-[var(--text-blue)]">
                {title}
            </a>
        </h2>
        <p class="text-[var(--text-main)]">
            {description}
        </p>
    </div>
</article>
